{
  "info": {
    "name": "Colder Backend API",
    "description": "API collection for Colder - AI-powered LinkedIn message generation",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "auth": {
    "type": "bearer",
    "bearer": [
      {
        "key": "token",
        "value": "{{jwt_token}}",
        "type": "string"
      }
    ]
  },
  "variable": [
    {
      "key": "base_url",
      "value": "http://localhost:3000",
      "type": "string"
    },
    {
      "key": "jwt_token",
      "value": "",
      "type": "string",
      "description": "JWT token for authentication"
    }
  ],
  "item": [
    {
      "name": "Health",
      "item": [
        {
          "name": "Health Check",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/",
              "host": ["{{base_url}}"],
              "path": [""]
            },
            "auth": {
              "type": "noauth"
            }
          }
        }
      ]
    },
    {
      "name": "Settings",
      "item": [
        {
          "name": "Get User Settings",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/settings",
              "host": ["{{base_url}}"],
              "path": ["settings"]
            }
          }
        },
        {
          "name": "Update User Settings",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"userName\": \"John Doe\",\n  \"userRole\": \"Software Engineer\",\n  \"userCompany\": \"Tech Corp\",\n  \"userBackground\": \"10+ years in software development\",\n  \"userValueProposition\": \"Expert in scalable systems\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/settings",
              "host": ["{{base_url}}"],
              "path": ["settings"]
            }
          }
        }
      ]
    },
    {
      "name": "Message Generation",
      "item": [
        {
          "name": "Generate Message",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"targetProfile\": {\n    \"id\": \"jane-smith\",\n    \"linkedinUrl\": \"https://linkedin.com/in/jane-smith\",\n    \"name\": \"Jane Smith\",\n    \"currentJobTitle\": \"Product Manager\",\n    \"currentCompany\": \"Innovation Labs\",\n    \"rawProfileText\": \"Experienced product manager with a focus on B2B SaaS products. Led multiple successful product launches...\"\n  },\n  \"tone\": \"professional\",\n  \"purpose\": \"connection\",\n  \"length\": \"medium\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/generate",
              "host": ["{{base_url}}"],
              "path": ["generate"]
            }
          }
        },
        {
          "name": "Regenerate Message",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"targetProfile\": {\n    \"id\": \"jane-smith\",\n    \"linkedinUrl\": \"https://linkedin.com/in/jane-smith\",\n    \"name\": \"Jane Smith\",\n    \"currentJobTitle\": \"Product Manager\",\n    \"currentCompany\": \"Innovation Labs\",\n    \"rawProfileText\": \"Experienced product manager with a focus on B2B SaaS products. Led multiple successful product launches...\"\n  },\n  \"tone\": \"professional\",\n  \"purpose\": \"connection\",\n  \"length\": \"medium\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/generate/regenerate",
              "host": ["{{base_url}}"],
              "path": ["generate", "regenerate"]
            }
          }
        },
        {
          "name": "Polish Message",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"originalMessage\": \"Hi Jane, I noticed we both work in tech and I'd love to connect.\",\n  \"userFeedback\": \"Make it more personalized and mention her recent product launch\",\n  \"tone\": \"enthusiastic\",\n  \"length\": \"medium\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/generate/polish",
              "host": ["{{base_url}}"],
              "path": ["generate", "polish"]
            }
          }
        }
      ]
    },
    {
      "name": "Credits",
      "item": [
        {
          "name": "Get Credit Status",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/credits/status",
              "host": ["{{base_url}}"],
              "path": ["credits", "status"]
            }
          }
        }
      ]
    },
    {
      "name": "Stripe",
      "item": [
        {
          "name": "Create Checkout Session",
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{base_url}}/stripe/create-checkout-session",
              "host": ["{{base_url}}"],
              "path": ["stripe", "create-checkout-session"]
            }
          }
        },
        {
          "name": "Create Portal Session",
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{base_url}}/stripe/create-portal-session",
              "host": ["{{base_url}}"],
              "path": ["stripe", "create-portal-session"]
            }
          }
        },
        {
          "name": "Get Subscription Status",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/stripe/subscription-status",
              "host": ["{{base_url}}"],
              "path": ["stripe", "subscription-status"]
            }
          }
        },
        {
          "name": "Webhook (Stripe Only)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "stripe-signature",
                "value": "{{stripe_signature}}",
                "description": "Stripe webhook signature"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "Raw webhook payload from Stripe"
            },
            "url": {
              "raw": "{{base_url}}/stripe/webhook",
              "host": ["{{base_url}}"],
              "path": ["stripe", "webhook"]
            },
            "auth": {
              "type": "noauth"
            }
          }
        },
        {
          "name": "Success Page",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/stripe/success",
              "host": ["{{base_url}}"],
              "path": ["stripe", "success"]
            },
            "auth": {
              "type": "noauth"
            }
          }
        },
        {
          "name": "Cancel Page",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/stripe/cancel",
              "host": ["{{base_url}}"],
              "path": ["stripe", "cancel"]
            },
            "auth": {
              "type": "noauth"
            }
          }
        }
      ]
    }
  ]
}